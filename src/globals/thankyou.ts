export const thankyoupage = ({ redirectUrl, browserUrl }) => {
  return `<html>
    <head>
      <meta
        http-equiv="refresh"
        content="0; URL=${escapeHtml(redirectUrl)}"
      />
      <style>
        body {
          font-family: Arial, sans-serif;
          text-align: center;
          background-color: #f0f0f0;
        }
        main {
          border: 1px solid lightgray;
          background-color: white;
          width: 40%;
          margin: auto;
          margin-top: 100px;
          padding: 100px 10px;
        }
      </style>
    </head>
    <body>
      <main>
        <svg width="170" height="170" viewBox="0 0 170 170" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M87.3707 47.972H81.8105V29.9849H87.3707V47.972Z" fill="#FADC3C"/>
        <path d="M109.896 42.9287H59.2989C36.3048 42.9287 17.5977 63.1013 17.5977 87.8965C17.5977 99.3843 21.6149 109.874 28.212 117.833L28.3177 117.932L35.2762 124.539L35.7321 124.971C40.9281 128.826 46.9692 131.446 53.4885 132.43C54.0306 132.708 54.6395 132.864 55.2789 132.864H59.2989V146.355C59.2989 148.01 60.1413 149.529 61.4924 150.315C62.8407 151.097 64.4838 151.019 65.7654 150.108L90.0188 132.864H109.896C124.778 132.864 137.861 124.413 145.242 111.729L149.243 102.796C150.766 98.1282 151.598 93.1158 151.598 87.8965C151.598 63.1013 132.89 42.9287 109.896 42.9287ZM139.727 103.986C138.164 107.35 136.121 110.413 133.697 113.076C127.644 119.734 119.21 123.871 109.896 123.871H88.7678C87.9504 123.871 87.1526 124.129 86.4714 124.614L74.8674 132.864L67.6392 138.003V128.368C67.6392 125.885 65.7709 123.871 63.469 123.871H59.2989C56.4021 123.871 53.5886 123.469 50.9086 122.72C46.5995 121.511 42.6295 119.395 39.1794 116.574C31.1394 110 25.9379 99.5912 25.9379 87.8965C25.9379 68.0597 40.9031 51.9223 59.2989 51.9223H109.896C128.292 51.9223 143.257 68.0597 143.257 87.8965C143.257 93.6764 141.987 99.1415 139.727 103.986Z" fill="#1C1C4B"/>
        <path d="M84.7778 83.4001C80.1789 83.4001 76.4375 87.4347 76.4375 92.3937C76.4375 97.3528 80.1789 101.387 84.7778 101.387C89.3766 101.387 93.118 97.3528 93.118 92.3937C93.118 87.4347 89.3766 83.4001 84.7778 83.4001Z" fill="#1C1C4B"/>
        <path d="M112.84 78.9036C108.241 78.9036 104.5 82.9381 104.5 87.8971C104.5 92.8562 108.241 96.8907 112.84 96.8907C117.439 96.8907 121.181 92.8562 121.181 87.8971C121.181 82.9381 117.439 78.9036 112.84 78.9036Z" fill="#1C1C4B"/>
        <path d="M56.6821 78.9028C52.0832 78.9028 48.3418 82.9373 48.3418 87.8964C48.3418 92.8554 52.0832 96.89 56.6821 96.89C61.2809 96.89 65.0223 92.8554 65.0223 87.8964C65.0223 82.9373 61.2809 78.9028 56.6821 78.9028Z" fill="#1C1C4B"/>
        <path d="M84.7875 18.8511C80.1887 18.8511 76.4473 22.8856 76.4473 27.8446C76.4473 32.8037 80.1887 36.8382 84.7875 36.8382C89.3863 36.8382 93.1278 32.8037 93.1278 27.8446C93.1278 22.8856 89.3863 18.8511 84.7875 18.8511Z" fill="#FADC3C"/>
        </svg>
        <h1>Redirecting to WorkBot Slack App</h1>
        <p>
          Not Working?
          <a href="${escapeHtml(redirectUrl)}">Try Again</a
          >.</p>
          <p>Or, you can
          <a href="${escapeHtml(browserUrl)}" target="_blank"
            >open Slack in your browser</a
          >.</p>
        </p>
      </main>
    </body>
  </html>
  `;
};

function escapeHtml(input: string | undefined | null): string {
  if (input) {
    return input
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#x27;');
  }
  return '';
}
